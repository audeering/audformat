

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Combine tables &mdash; Documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  
  
  

  

  
  
    

  
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/audeering.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/katex-math.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Map scheme labels" href="map-scheme.html" />
    <link rel="prev" title="Working with a database" href="accessing-data.html" />
    
      
    
  

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          <a href="index.html">
          
            <img src="_static/images/audeering.png" class="logo" alt="audEERING"/>
          
          
            <span> audformat</span>
          
          </a>

          
            
            
              <div class="version">
                v1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="create-database.html">Create a database</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessing-data.html">Working with a database</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Combine tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="map-scheme.html">Map scheme labels</a></li>
<li class="toctree-l1"><a class="reference internal" href="update-database.html">Update a database</a></li>
<li class="toctree-l1"><a class="reference internal" href="emodb-example.html">Emodb example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Format specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data-introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-format.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-header.html">Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-tables.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-misc-tables.html">Misc Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-example.html">Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/audformat.html">audformat</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/audformat.define.html">audformat.define</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/audformat.errors.html">audformat.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/audformat.testing.html">audformat.testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/audformat.utils.html">audformat.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">audformat</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Combine tables</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/audeering/audformat/" class="fa fa-github"> GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="combine-tables">
<span id="id1"></span><h1>Combine tables<a class="headerlink" href="#combine-tables" title="Permalink to this heading">¶</a></h1>
<p>It can happen that labels in your database are stored
in tables of different type as some labels belong to the whole file,
others don’t. The following examples highlights this with the labels
for age and likability:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">audformat.testing</span>


<span class="n">db</span> <span class="o">=</span> <span class="n">audformat</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">create_db</span><span class="p">(</span><span class="n">minimal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">schemes</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">audformat</span><span class="o">.</span><span class="n">Scheme</span><span class="p">(</span>
    <span class="n">audformat</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">DataType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
    <span class="n">minimum</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">maximum</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">schemes</span><span class="p">[</span><span class="s1">&#39;likability&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">audformat</span><span class="o">.</span><span class="n">Scheme</span><span class="p">(</span>
    <span class="n">audformat</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">audformat</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span>
    <span class="n">db</span><span class="p">,</span>
    <span class="n">table_id</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span>
    <span class="n">index_type</span><span class="o">=</span><span class="n">audformat</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">IndexType</span><span class="o">.</span><span class="n">FILEWISE</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span>
    <span class="n">num_files</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">audformat</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span>
    <span class="n">db</span><span class="p">,</span>
    <span class="n">table_id</span><span class="o">=</span><span class="s1">&#39;likability&#39;</span><span class="p">,</span>
    <span class="n">index_type</span><span class="o">=</span><span class="n">audformat</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">IndexType</span><span class="o">.</span><span class="n">SEGMENTED</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;likability&#39;</span><span class="p">,</span>
    <span class="n">num_files</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Which results in the following two <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.0.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span>
    <span class="n">db</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
    <span class="n">db</span><span class="p">[</span><span class="s1">&#39;likability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
    </tr>
    <tr>
      <th>file</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>audio/001.wav</th>
      <td>24</td>
    </tr>
    <tr>
      <th>audio/002.wav</th>
      <td>41</td>
    </tr>
    <tr>
      <th>audio/003.wav</th>
      <td>21</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>likability</th>
    </tr>
    <tr>
      <th>file</th>
      <th>start</th>
      <th>end</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">audio/001.wav</th>
      <th>0 days 00:00:00.030024044</th>
      <th>0 days 00:00:00.205806426</th>
      <td>0.567955</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.251212249</th>
      <th>0 days 00:00:00.324962227</th>
      <td>0.590349</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.427495601</th>
      <th>0 days 00:00:02.513745920</th>
      <td>0.424273</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.625870777</th>
      <th>0 days 00:00:02.971757778</th>
      <td>0.111691</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.532586929</th>
      <th>0 days 00:00:04.287735413</th>
      <td>0.356970</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/002.wav</th>
      <th>0 days 00:00:01.018788723</th>
      <th>0 days 00:00:01.562266830</th>
      <td>0.179862</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.959104402</th>
      <th>0 days 00:00:02.239531175</th>
      <td>0.798834</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.345205883</th>
      <th>0 days 00:00:03.687192366</th>
      <td>0.238529</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.768017163</th>
      <th>0 days 00:00:03.873325261</th>
      <td>0.979730</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.355590316</th>
      <th>0 days 00:00:04.597447253</th>
      <td>0.728039</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/003.wav</th>
      <th>0 days 00:00:00.021734203</th>
      <th>0 days 00:00:00.616810209</th>
      <td>0.209514</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.781562912</th>
      <th>0 days 00:00:02.667552262</th>
      <td>0.775572</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.898274264</th>
      <th>0 days 00:00:03.640574635</th>
      <td>0.606376</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.685410901</th>
      <th>0 days 00:00:03.865668022</th>
      <td>0.044978</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.126400428</th>
      <th>0 days 00:00:04.687869721</th>
      <td>0.040831</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/004.wav</th>
      <th>0 days 00:00:00.354658083</th>
      <th>0 days 00:00:00.424738475</th>
      <td>0.996676</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.068342222</th>
      <th>0 days 00:00:01.774314841</th>
      <td>0.457064</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.898521024</th>
      <th>0 days 00:00:01.996778124</th>
      <td>0.253334</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.007505735</th>
      <th>0 days 00:00:02.061429414</th>
      <td>0.388369</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.335721513</th>
      <th>0 days 00:00:03.536645032</th>
      <td>0.329459</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>You can simply combine both tables with:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_table</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;likability&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Which results in the following <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.0.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_table</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>likability</th>
      <th>age</th>
    </tr>
    <tr>
      <th>file</th>
      <th>start</th>
      <th>end</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">audio/001.wav</th>
      <th>0 days 00:00:00.030024044</th>
      <th>0 days 00:00:00.205806426</th>
      <td>0.567955</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.251212249</th>
      <th>0 days 00:00:00.324962227</th>
      <td>0.590349</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.427495601</th>
      <th>0 days 00:00:02.513745920</th>
      <td>0.424273</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.625870777</th>
      <th>0 days 00:00:02.971757778</th>
      <td>0.111691</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.532586929</th>
      <th>0 days 00:00:04.287735413</th>
      <td>0.356970</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/002.wav</th>
      <th>0 days 00:00:01.018788723</th>
      <th>0 days 00:00:01.562266830</th>
      <td>0.179862</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.959104402</th>
      <th>0 days 00:00:02.239531175</th>
      <td>0.798834</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.345205883</th>
      <th>0 days 00:00:03.687192366</th>
      <td>0.238529</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.768017163</th>
      <th>0 days 00:00:03.873325261</th>
      <td>0.979730</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.355590316</th>
      <th>0 days 00:00:04.597447253</th>
      <td>0.728039</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/003.wav</th>
      <th>0 days 00:00:00.021734203</th>
      <th>0 days 00:00:00.616810209</th>
      <td>0.209514</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.781562912</th>
      <th>0 days 00:00:02.667552262</th>
      <td>0.775572</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.898274264</th>
      <th>0 days 00:00:03.640574635</th>
      <td>0.606376</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.685410901</th>
      <th>0 days 00:00:03.865668022</th>
      <td>0.044978</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.126400428</th>
      <th>0 days 00:00:04.687869721</th>
      <td>0.040831</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/004.wav</th>
      <th>0 days 00:00:00.354658083</th>
      <th>0 days 00:00:00.424738475</th>
      <td>0.996676</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.068342222</th>
      <th>0 days 00:00:01.774314841</th>
      <td>0.457064</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.898521024</th>
      <th>0 days 00:00:01.996778124</th>
      <td>0.253334</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.007505735</th>
      <th>0 days 00:00:02.061429414</th>
      <td>0.388369</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.335721513</th>
      <th>0 days 00:00:03.536645032</th>
      <td>0.329459</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>audio/001.wav</th>
      <th>0 days 00:00:00</th>
      <th>NaT</th>
      <td>NaN</td>
      <td>24</td>
    </tr>
    <tr>
      <th>audio/002.wav</th>
      <th>0 days 00:00:00</th>
      <th>NaT</th>
      <td>NaN</td>
      <td>41</td>
    </tr>
    <tr>
      <th>audio/003.wav</th>
      <th>0 days 00:00:00</th>
      <th>NaT</th>
      <td>NaN</td>
      <td>21</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Or, if you just want to have the likability information for all segments,
for which age information is available:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_likability</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;likability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">db</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">files</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Which results in the following <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.0.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_likability</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>likability</th>
    </tr>
    <tr>
      <th>file</th>
      <th>start</th>
      <th>end</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">audio/001.wav</th>
      <th>0 days 00:00:00.030024044</th>
      <th>0 days 00:00:00.205806426</th>
      <td>0.567955</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.251212249</th>
      <th>0 days 00:00:00.324962227</th>
      <td>0.590349</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.427495601</th>
      <th>0 days 00:00:02.513745920</th>
      <td>0.424273</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.625870777</th>
      <th>0 days 00:00:02.971757778</th>
      <td>0.111691</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.532586929</th>
      <th>0 days 00:00:04.287735413</th>
      <td>0.356970</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/002.wav</th>
      <th>0 days 00:00:01.018788723</th>
      <th>0 days 00:00:01.562266830</th>
      <td>0.179862</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.959104402</th>
      <th>0 days 00:00:02.239531175</th>
      <td>0.798834</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.345205883</th>
      <th>0 days 00:00:03.687192366</th>
      <td>0.238529</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.768017163</th>
      <th>0 days 00:00:03.873325261</th>
      <td>0.979730</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.355590316</th>
      <th>0 days 00:00:04.597447253</th>
      <td>0.728039</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/003.wav</th>
      <th>0 days 00:00:00.021734203</th>
      <th>0 days 00:00:00.616810209</th>
      <td>0.209514</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.781562912</th>
      <th>0 days 00:00:02.667552262</th>
      <td>0.775572</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.898274264</th>
      <th>0 days 00:00:03.640574635</th>
      <td>0.606376</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.685410901</th>
      <th>0 days 00:00:03.865668022</th>
      <td>0.044978</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.126400428</th>
      <th>0 days 00:00:04.687869721</th>
      <td>0.040831</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Or, if you want to have the age information for segments
in the likeability table:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_age</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">df_likability</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Which results in the following <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.0.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_age</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>age</th>
    </tr>
    <tr>
      <th>file</th>
      <th>start</th>
      <th>end</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">audio/001.wav</th>
      <th>0 days 00:00:00.030024044</th>
      <th>0 days 00:00:00.205806426</th>
      <td>24</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.251212249</th>
      <th>0 days 00:00:00.324962227</th>
      <td>24</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.427495601</th>
      <th>0 days 00:00:02.513745920</th>
      <td>24</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.625870777</th>
      <th>0 days 00:00:02.971757778</th>
      <td>24</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.532586929</th>
      <th>0 days 00:00:04.287735413</th>
      <td>24</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/002.wav</th>
      <th>0 days 00:00:01.018788723</th>
      <th>0 days 00:00:01.562266830</th>
      <td>41</td>
    </tr>
    <tr>
      <th>0 days 00:00:01.959104402</th>
      <th>0 days 00:00:02.239531175</th>
      <td>41</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.345205883</th>
      <th>0 days 00:00:03.687192366</th>
      <td>41</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.768017163</th>
      <th>0 days 00:00:03.873325261</th>
      <td>41</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.355590316</th>
      <th>0 days 00:00:04.597447253</th>
      <td>41</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">audio/003.wav</th>
      <th>0 days 00:00:00.021734203</th>
      <th>0 days 00:00:00.616810209</th>
      <td>21</td>
    </tr>
    <tr>
      <th>0 days 00:00:00.781562912</th>
      <th>0 days 00:00:02.667552262</th>
      <td>21</td>
    </tr>
    <tr>
      <th>0 days 00:00:02.898274264</th>
      <th>0 days 00:00:03.640574635</th>
      <td>21</td>
    </tr>
    <tr>
      <th>0 days 00:00:03.685410901</th>
      <th>0 days 00:00:03.865668022</th>
      <td>21</td>
    </tr>
    <tr>
      <th>0 days 00:00:04.126400428</th>
      <th>0 days 00:00:04.687869721</th>
      <td>21</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>So far we have combined tables using the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator.
The result is a table that is no longer attached to a database.
That means that meta information about the media
or referenced schemes is discarded.
If you want to keep this information,
you can use <a class="reference internal" href="api/audformat.Table.html#audformat.Table.update" title="audformat.Table.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">audformat.Table.update()</span></code></a>,
which also works across databases,
as we will demonstrate with the following example.</p>
<p>First we create a second database
and add a gender scheme:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">db2</span> <span class="o">=</span> <span class="n">audformat</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">create_db</span><span class="p">(</span><span class="n">minimal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">db2</span><span class="o">.</span><span class="n">schemes</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">audformat</span><span class="o">.</span><span class="n">Scheme</span><span class="p">(</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="s1">&#39;male&#39;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">db2</span><span class="o">.</span><span class="n">schemes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>gender:
  dtype: str
  labels: [female, male]
</pre></div>
</div>
</div>
</div>
<p>Next, we add a table and fill in some gender information:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">audformat</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span>
    <span class="n">db2</span><span class="p">,</span>
    <span class="n">table_id</span><span class="o">=</span><span class="s1">&#39;gender_and_age&#39;</span><span class="p">,</span>
    <span class="n">index_type</span><span class="o">=</span><span class="n">audformat</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">IndexType</span><span class="o">.</span><span class="n">FILEWISE</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span>
    <span class="n">num_files</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
    </tr>
    <tr>
      <th>file</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>audio/002.wav</th>
      <td>male</td>
    </tr>
    <tr>
      <th>audio/003.wav</th>
      <td>female</td>
    </tr>
    <tr>
      <th>audio/004.wav</th>
      <td>female</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, we update the table with age values from the other database.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">db2</span><span class="p">[</span><span class="s1">&#39;gender_and_age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">db</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
      <th>age</th>
    </tr>
    <tr>
      <th>file</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>audio/002.wav</th>
      <td>male</td>
      <td>41</td>
    </tr>
    <tr>
      <th>audio/003.wav</th>
      <td>female</td>
      <td>21</td>
    </tr>
    <tr>
      <th>audio/004.wav</th>
      <td>female</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>audio/001.wav</th>
      <td>NaN</td>
      <td>24</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And also copies the according scheme to the database:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">db2</span><span class="o">.</span><span class="n">schemes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>age:
  {dtype: int, minimum: 20, maximum: 50}
gender:
  dtype: str
  labels: [female, male]
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="map-scheme.html" class="btn btn-neutral float-right" title="Map scheme labels" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="accessing-data.html" class="btn btn-neutral float-left" title="Working with a database" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div>
    <p>
        
        
        
          Built with <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a> on 2023/04/27 using the <a href="https://github.com/audeering/sphinx-audeering-theme/">audEERING theme</a>
        
    </p>
  </div>

  <div role="contentinfo">
    <p>
        
      &copy; 2019-2023 audEERING GmbH
    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  



  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/thebelab-helper.js"></script>
        <script src="_static/katex.min.js"></script>
        <script src="_static/auto-render.min.js"></script>
        <script src="_static/katex_autorenderer.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>